<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">

    <link rel="stylesheet" href="../static/css/user_editProfile.css" />
    <script type="module" src="../static/js/user_editProfile.js" defer></script>
    <link rel="shortcut icon" href="../static/images/DEKKOTO.svg" type="image/x-ic" type="image/x-icon">

    <title>Document</title>
</head>
<body>
<div class="header-container">
    <img
            src="../static/images/cote.jpeg"
            alt="default-profile"
            id="updateImg"
            class="image"
    />
    <div class="profile">
        <label for="files" class="change-profile">Change profile picture</label>
        <input
                id="files"
                style="visibility: collapse"
                type="file"
                onchange="displayImage(this)"
                accept="image/*"
        />
    </div>
</div>


<form action="" method="" class="form">
    <div class="form-container">
        <label for="Email">Name</label>
        <input
                type="text"
                id="name"
                class="name"
                placeholder="Enter your Name"
        />

        <label for="email"> Email</label>
        <input
                type="email"
                class="email"
                id="email"
        />

        <button id="saveUpdates" class="button">Save Changes</button>
    </div>
</form>

<script src="../static/js/uploadUserImage.js"></script>

<script>
    function displayImage(input) {
        let updateImg = document.getElementById('updateImg');
        let file = input.files[0];

        if (file) {
            let reader = new FileReader();

            reader.onload = function (e) {
                updateImg.src = e.target.result;
            };

            reader.readAsDataURL(file);
        } else {
            updateImg.src = '/Resources/default-image.png';
        }
        encryptAndSend(input);
    }
</script>
</body>
</html>